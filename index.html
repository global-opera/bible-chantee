<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title data-i18n="siteName">Bible ChantÃ©e</title>
  <meta name="description" content="Bible ChantÃ©e - Toute la Parole de Dieu en musique dans 12 langues">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Inter', Arial, sans-serif;
      background: #0f172a;
      color: #e5e7eb;
      line-height: 1.7;
    }

    /* Language Selector Styles */
    .language-selector-container {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
      background: rgba(30, 41, 59, 0.95);
      padding: 10px 15px;
      border-radius: 25px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
      border: 2px solid rgba(147, 197, 253, 0.3);
    }

    .language-selector {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .language-selector label {
      color: #93c5fd;
      font-size: 0.9em;
      font-weight: 600;
    }

    .language-selector select {
      padding: 8px 12px;
      font-size: 0.95em;
      border-radius: 8px;
      border: 2px solid rgba(147, 197, 253, 0.3);
      background: rgba(15, 23, 42, 0.9);
      color: #e5e7eb;
      cursor: pointer;
      font-weight: 600;
      outline: none;
      transition: all 0.3s;
    }

    .language-selector select:hover {
      border-color: #60a5fa;
      background: rgba(15, 23, 42, 1);
    }

    .language-selector select:focus {
      border-color: #3b82f6;
    }

    header {
      background: linear-gradient(135deg, #1e3a8a 0%, #2563eb 100%);
      padding: 60px 20px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    header::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="50" font-size="40" opacity="0.08" fill="%23ffffff">&#9835;</text></svg>');
      background-size: 80px;
    }

    header h1 {
      font-family: 'Playfair Display', Georgia, serif;
      font-size: 3em;
      margin-bottom: 15px;
      position: relative;
      text-shadow: 2px 2px 8px rgba(0,0,0,0.3);
    }

    header p {
      font-size: 1.25em;
      max-width: 700px;
      margin: 0 auto;
      opacity: 0.95;
      position: relative;
    }

    nav {
      background: #020617;
      text-align: center;
      padding: 15px;
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: 0 2px 10px rgba(0,0,0,0.3);
    }

    nav a {
      color: #93c5fd;
      margin: 0 12px;
      text-decoration: none;
      font-weight: 600;
      font-size: 0.95em;
      transition: color 0.3s;
    }

    nav a:hover {
      color: #ffffff;
    }

    main {
      padding: 50px 20px 70px;
      max-width: 1100px;
      margin: auto;
    }

    .bloc {
      background: linear-gradient(145deg, #111827, #1e293b);
      border-radius: 16px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: 0 4px 25px rgba(0,0,0,0.4);
      border: 1px solid rgba(147, 197, 253, 0.1);
    }

    h2 {
      font-family: 'Playfair Display', Georgia, serif;
      color: #93c5fd;
      margin-top: 0;
      margin-bottom: 20px;
      font-size: 1.6em;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    h2 .icon {
      font-size: 1.2em;
    }

    ul {
      padding-left: 25px;
      margin: 15px 0;
    }

    ul li {
      margin-bottom: 10px;
    }

    .highlight {
      color: #60a5fa;
      font-weight: 600;
    }

    .status-done {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      padding: 3px 12px;
      border-radius: 20px;
      font-size: 0.85em;
      font-weight: 600;
    }

    .status-progress {
      background: linear-gradient(90deg, #f59e0b, #d97706);
      color: white;
      padding: 3px 12px;
      border-radius: 20px;
      font-size: 0.85em;
      font-weight: 600;
    }

    /* Section Acces Rapides */
    .btns-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-top: 25px;
    }

    .btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      padding: 18px 25px;
      background: linear-gradient(135deg, #2563eb, #1d4ed8);
      color: #ffffff;
      text-decoration: none;
      border-radius: 12px;
      font-weight: 600;
      font-size: 1em;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);
    }

    .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 25px rgba(37, 99, 235, 0.5);
      background: linear-gradient(135deg, #3b82f6, #2563eb);
    }

    .btn-gold {
      background: linear-gradient(135deg, #d4af37, #b8860b);
      box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
    }

    .btn-gold:hover {
      background: linear-gradient(135deg, #f0c850, #d4af37);
      box-shadow: 0 6px 25px rgba(212, 175, 55, 0.5);
    }

    .btn-secondary {
      background: linear-gradient(135deg, #475569, #334155);
      box-shadow: 0 4px 15px rgba(71, 85, 105, 0.3);
    }

    .btn-secondary:hover {
      background: linear-gradient(135deg, #64748b, #475569);
      box-shadow: 0 6px 25px rgba(71, 85, 105, 0.5);
    }

    .btn-icon {
      font-size: 1.3em;
    }

    /* Section Stats */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    .stat-card {
      background: rgba(37, 99, 235, 0.1);
      border: 1px solid rgba(37, 99, 235, 0.3);
      border-radius: 12px;
      padding: 20px;
      text-align: center;
    }

    .stat-number {
      font-family: 'Playfair Display', Georgia, serif;
      font-size: 2.2em;
      color: #60a5fa;
      font-weight: 700;
    }

    .stat-label {
      color: #94a3b8;
      font-size: 0.9em;
      margin-top: 5px;
    }

    /* Mission Box */
    .mission-box {
      background: linear-gradient(135deg, rgba(212, 175, 55, 0.15), rgba(212, 175, 55, 0.05));
      border: 2px solid rgba(212, 175, 55, 0.4);
      border-radius: 12px;
      padding: 25px;
      text-align: center;
    }

    .mission-box p {
      font-size: 1.15em;
      color: #fbbf24;
    }

    footer {
      background: #020617;
      text-align: center;
      padding: 30px 20px;
      font-size: 0.9em;
      color: #9ca3af;
      border-top: 1px solid #1e293b;
    }

    footer a {
      color: #60a5fa;
      text-decoration: none;
      margin: 0 10px;
    }

    footer a:hover {
      color: #93c5fd;
      text-decoration: underline;
    }

    .footer-links {
      margin-bottom: 15px;
    }

    @media (max-width: 600px) {
      header h1 { font-size: 2.2em; }
      header p { font-size: 1em; }
      nav a { margin: 0 8px; font-size: 0.85em; }
      .btns-grid { grid-template-columns: 1fr; }
      .language-selector-container {
        top: 10px;
        right: 10px;
        padding: 8px 12px;
      }
      .language-selector {
        flex-direction: column;
        gap: 5px;
      }
    }
  </style>
</head>

<body>

<!-- Language Selector -->
<div class="language-selector-container">
  <div class="language-selector">
    <label>ğŸŒ</label>
    <select id="globalLanguageSelector">
      <option value="FR">ğŸ‡«ğŸ‡· FranÃ§ais</option>
      <option value="EN">ğŸ‡¬ğŸ‡§ English</option>
      <option value="ES">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
      <option value="PT">ğŸ‡µğŸ‡¹ PortuguÃªs</option>
      <option value="DE">ğŸ‡©ğŸ‡ª Deutsch</option>
      <option value="IT">ğŸ‡®ğŸ‡¹ Italiano</option>
      <option value="RU">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
      <option value="AR">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
      <option value="ZH">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
      <option value="HI">ğŸ‡®ğŸ‡³ à¤¹à¤¿à¤¨à¥à¤¦à¥€</option>
      <option value="TL">ğŸ‡µğŸ‡­ Tagalog</option>
      <option value="KO">ğŸ‡°ğŸ‡· í•œêµ­ì–´</option>
    </select>
  </div>
</div>

<header>
  <h1 data-i18n="siteName">Bible ChantÃ©e</h1>
  <p data-i18n="tagline">Toute la Parole de Dieu en musique â€“ 12 langues</p>
  <div style="margin-top: 25px; display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; max-width: 900px; margin-left: auto; margin-right: auto;">
    <span style="background: rgba(255,255,255,0.15); padding: 8px 14px; border-radius: 20px; font-size: 0.85em;">ES <span style="opacity:0.7">(470M)</span></span>
    <span style="background: rgba(255,255,255,0.15); padding: 8px 14px; border-radius: 20px; font-size: 0.85em;">EN <span style="opacity:0.7">(540M)</span></span>
    <span style="background: rgba(255,255,255,0.15); padding: 8px 14px; border-radius: 20px; font-size: 0.85em;">PT <span style="opacity:0.7">(230M)</span></span>
    <span style="background: rgba(255,255,255,0.15); padding: 8px 14px; border-radius: 20px; font-size: 0.85em;">FR <span style="opacity:0.7">(100M)</span></span>
    <span style="background: rgba(255,255,255,0.15); padding: 8px 14px; border-radius: 20px; font-size: 0.85em;">RU <span style="opacity:0.7">(130M)</span></span>
    <span style="background: rgba(255,255,255,0.15); padding: 8px 14px; border-radius: 20px; font-size: 0.85em;">ZH <span style="opacity:0.7">(100M)</span></span>
    <span style="background: rgba(255,255,255,0.15); padding: 8px 14px; border-radius: 20px; font-size: 0.85em;">TL <span style="opacity:0.7">(95M)</span></span>
    <span style="background: rgba(255,255,255,0.15); padding: 8px 14px; border-radius: 20px; font-size: 0.85em;">DE <span style="opacity:0.7">(55M)</span></span>
    <span style="background: rgba(255,255,255,0.15); padding: 8px 14px; border-radius: 20px; font-size: 0.85em;">IT <span style="opacity:0.7">(55M)</span></span>
    <span style="background: rgba(255,255,255,0.15); padding: 8px 14px; border-radius: 20px; font-size: 0.85em;">HI <span style="opacity:0.7">(30M)</span></span>
    <span style="background: rgba(255,255,255,0.15); padding: 8px 14px; border-radius: 20px; font-size: 0.85em;">KO <span style="opacity:0.7">(15M)</span></span>
    <span style="background: rgba(255,255,255,0.15); padding: 8px 14px; border-radius: 20px; font-size: 0.85em;">AR <span style="opacity:0.7">(15M)</span></span>
  </div>
  <p style="margin-top: 15px; font-size: 0.95em; opacity: 0.85;" data-i18n="totalChristians"><strong>1.8 milliard</strong> de chrÃ©tiens dans le monde</p>
</header>

<nav>
  <a href="#projet" data-i18n="navProject">Le Projet</a>
  <a href="lecteur.html" data-i18n="navPlayer">Lecteur</a>
  <a href="#ecouter" data-i18n="navListen">Ecouter</a>
  <a href="#eglises" data-i18n="navChurches">Eglises</a>
  <a href="#mission" data-i18n="navMission">Mission</a>
  <a href="#soutenir" data-i18n="navSupport">Soutenir</a>
  <a href="about.html" data-i18n="navAbout">Ã€ propos</a>
  <a href="#contact" data-i18n="navContact">Contact</a>
</nav>

<main>

  <div class="bloc" id="projet">
    <h2><span class="icon">ğŸ“–</span> <span data-i18n="projectTitle">Le projet</span></h2>
    <p data-i18n="projectDesc1">
      Bible ChantÃ©e est un projet missionnaire chrÃ©tien international dont la vision est de rendre
      la Parole de Dieu accessible en musique, <strong>chapitre par chapitre</strong>, dans 12 langues.
    </p>
    <p style="margin-top: 15px;" data-i18n="projectDesc2">
      Le projet s'adresse aux enfants, familles, personnes Ã¢gÃ©es, personnes qui ne savent pas lire,
      nouveaux convertis, ainsi qu'aux Ã©glises pour la louange, l'enseignement, la priÃ¨re et l'Ã©vangÃ©lisation.
    </p>

    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-number">1189</div>
        <div class="stat-label" data-i18n="statChapters">chapitres</div>
      </div>
      <div class="stat-card">
        <div class="stat-number">12</div>
        <div class="stat-label" data-i18n="statLanguages">langues</div>
      </div>
      <div class="stat-card">
        <div class="stat-number">66</div>
        <div class="stat-label" data-i18n="statBooks">livres</div>
      </div>
      <div class="stat-card">
        <div class="stat-number">1.8</div>
        <div class="stat-label" data-i18n="statPeople">milliard de personnes</div>
      </div>
    </div>
  </div>

  <div class="bloc">
    <h2><span class="icon">ğŸŒ</span> <span data-i18n="visionTitle">Vision mondiale</span></h2>
    <ul>
      <li><span data-i18n="visionFrench">Version franÃ§aise :</span> <span class="status-done" data-i18n="visionFrenchStatus">TerminÃ©e</span></li>
      <li><span data-i18n="visionPortuguese">Version portugaise :</span> <span class="status-progress" data-i18n="visionPortugueseStatus">En cours</span></li>
      <li data-i18n="visionOthers">10 autres langues : en prÃ©paration (anglais, espagnol, allemand, russe, arabe, chinois, hindi, tagalog...)</li>
      <li data-i18n="visionDiffusion">Diffusion : site web, application mobile, YouTube, plateformes streaming</li>
    </ul>
  </div>

  <div class="bloc" id="ecouter">
    <h2><span class="icon">ğŸµ</span> <span data-i18n="listenTitle">Ecouter la Bible ChantÃ©e</span></h2>
    <p data-i18n="listenDesc">
      AccÃ©dez Ã  l'intÃ©gralitÃ© de la Bible mise en musique. Choisissez un livre, un chapitre,
      et laissez-vous porter par la Parole de Dieu en musique.
    </p>

    <div class="btns-grid">
      <a href="bible.html" class="btn btn-secondary" data-page="bible">
        <span class="btn-icon">ğŸ“–</span> <span data-i18n="btnBibleText">Bible (texte)</span>
      </a>
      <a href="lecteur.html" class="btn" data-page="lecteur">
        <span class="btn-icon">ğŸ“”</span> <span data-i18n="btnListenBible">Ecouter la Bible</span>
      </a>
      <a href="promesses.html" class="btn btn-gold" data-page="promesses">
        <span class="btn-icon">â­</span> <span data-i18n="btnPromises">Promesses bibliques</span>
      </a>
      <a href="confessions.html" class="btn btn-gold" data-page="confessions">
        <span class="btn-icon">â¤</span> <span data-i18n="btnConfessions">10 Confessions de foi</span>
      </a>
    </div>
  </div>

  <div class="bloc" id="eglises">
    <h2><span class="icon">â›ª</span> <span data-i18n="churchesTitle">Pour les Ã©glises</span></h2>
    <p data-i18n="churchesDesc">
      Bible ChantÃ©e est un outil pour la louange, l'enseignement, les groupes de maison,
      la jeunesse, les enfants et l'Ã©vangÃ©lisation.
    </p>
    <p style="margin-top: 15px;" data-i18n="churchesLicense">
      Des <span class="highlight">licences Ã©glises</span> permettront l'utilisation rÃ©guliÃ¨re au culte, la diffusion,
      la projection et l'intÃ©gration dans les activitÃ©s communautaires.
    </p>
  </div>

  <div class="bloc" id="mission">
    <h2><span class="icon">â¤</span> <span data-i18n="missionTitle">Engagement missionnaire</span></h2>
    <p data-i18n="missionDesc">
      Bible ChantÃ©e est un projet Ã  vocation spirituelle et missionnaire.
    </p>
    <div class="mission-box" style="margin-top: 20px;">
      <p data-i18n="missionCommitment"><strong>10 % des bÃ©nÃ©fices nets seront reversÃ©s Ã  des oeuvres missionnaires chrÃ©tiennes.</strong></p>
    </div>
  </div>

  <div class="bloc" id="soutenir">
    <h2><span class="icon">ğŸ¤</span> <span data-i18n="supportTitle">Soutenir le projet</span></h2>
    <p data-i18n="supportDesc">
      Une campagne de financement participatif est prÃ©vue afin de permettre
      le dÃ©ploiement mondial de l'application mobile, du site multilingue et de la diffusion.
    </p>
    <p style="margin-top: 15px;" data-i18n="supportContact">
      Vous pouvez dÃ¨s maintenant nous contacter pour en savoir plus sur les opportunitÃ©s de partenariat.
    </p>
    <div style="margin-top: 25px; text-align: center;">
      <a href="crowdfunding.html" class="btn btn-gold" style="display: inline-block; padding: 15px 35px; font-size: 1.1em;">
        ğŸ’° <span data-i18n="supportBtn">Soutenir le projet</span>
      </a>
    </div>
  </div>

  <div class="bloc">
    <h2><span class="icon">ğŸš€</span> <span data-i18n="quickAccessTitle">AccÃ¨s rapides</span></h2>
    <div class="btns-grid">
      <a href="bible.html" class="btn btn-secondary">
        <span class="btn-icon">ğŸ“–</span> <span data-i18n="btnBibleText">Bible (texte)</span>
      </a>
      <a href="lecteur.html" class="btn">
        <span class="btn-icon">ğŸ“”</span> <span data-i18n="btnListenBible">Ecouter la Bible</span>
      </a>
      <a href="promesses.html" class="btn btn-gold">
        <span class="btn-icon">â­</span> <span data-i18n="btnPromises">Promesses</span>
      </a>
      <a href="confessions.html" class="btn btn-gold">
        <span class="btn-icon">â¤</span> <span data-i18n="btnConfessions">Confessions</span>
      </a>
      <a href="credits-depliant.html" class="btn">
        <span class="btn-icon">ğŸ“„</span> <span data-i18n="btnPresentation">Presentation</span>
      </a>
      <a href="mailto:global.opera.biblechantee@gmail.com" class="btn btn-secondary">
        <span class="btn-icon">âœ‰</span> <span data-i18n="btnEmail">Email</span>
      </a>
    </div>
  </div>

  <div class="bloc" id="contact">
    <h2><span class="icon">ğŸ“¬</span> <span data-i18n="contactTitle">Contact</span></h2>
    <p>
      <span data-i18n="contactEmail">Email officiel du projet :</span> <strong>global.opera.biblechantee@gmail.com</strong>
    </p>
    <p style="margin-top: 10px;" data-i18n="contactLocation">
      Localisation : Suisse
    </p>
  </div>

</main>

<footer>
  <div class="footer-links">
    <a href="mentions-legales.html" data-i18n="footerLegal">Mentions lÃ©gales</a> |
    <a href="credits-depliant.html" data-i18n="footerCredits">CrÃ©dits</a> |
  </div>
  <p data-i18n="footerMission">Bible ChantÃ©e â€“ Projet missionnaire chrÃ©tien international</p>
  <p data-i18n="footerCopyright">&copy; 2025 StÃ©phane Cassani â€“ Tous droits rÃ©servÃ©s</p>
</footer>

<!-- Load translations -->
<script src="translations.js"></script>

<script>
// Multi-language translation system
(function() {
  const languageSelector = document.getElementById('globalLanguageSelector');

  // Load language from URL, localStorage, or browser
  function getInitialLanguage() {
    const validLangs = ['FR', 'EN', 'ES', 'PT', 'DE', 'IT', 'RU', 'AR', 'ZH', 'HI', 'TL', 'KO'];

    // Priority 1: URL parameter ?lang=XX
    const urlParams = new URLSearchParams(window.location.search);
    const urlLang = urlParams.get('lang');
    if (urlLang) {
      const langCode = urlLang.toUpperCase();
      if (validLangs.includes(langCode)) {
        localStorage.setItem('selectedLanguage', langCode);
        return langCode;
      }
    }

    // Priority 2: localStorage (user's previous choice)
    const saved = localStorage.getItem('selectedLanguage');
    if (saved && validLangs.includes(saved)) {
      return saved;
    }

    // Priority 3: Detect browser language
    const browserLang = navigator.language || navigator.userLanguage;
    const langCode = browserLang.split('-')[0].toUpperCase();

    const langMap = {
      'FR': 'FR', 'EN': 'EN', 'ES': 'ES', 'PT': 'PT',
      'DE': 'DE', 'IT': 'IT', 'RU': 'RU', 'AR': 'AR',
      'ZH': 'ZH', 'HI': 'HI', 'TL': 'TL', 'KO': 'KO'
    };

    return langMap[langCode] || 'FR';
  }

  const currentLang = getInitialLanguage();
  languageSelector.value = currentLang;

  // Apply translations to page
  function applyTranslations(lang) {
    const trans = translations[lang] || translations['FR'];

    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(element => {
      const key = element.getAttribute('data-i18n');
      if (trans[key]) {
        // Handle elements with HTML content (like bold tags)
        if (element.innerHTML.includes('<strong>') || element.innerHTML.includes('<span')) {
          // Preserve HTML structure when possible
          const tempDiv = document.createElement('div');
          tempDiv.innerHTML = trans[key];
          if (tempDiv.textContent) {
            element.textContent = trans[key];
          }
        } else {
          element.textContent = trans[key];
        }
      }
    });

    // Update page title
    document.title = trans.siteName || 'Bible ChantÃ©e';

    // Update HTML lang attribute
    const langAttrMap = {
      'FR': 'fr', 'EN': 'en', 'ES': 'es', 'PT': 'pt',
      'DE': 'de', 'IT': 'it', 'RU': 'ru', 'AR': 'ar',
      'ZH': 'zh', 'HI': 'hi', 'TL': 'tl', 'KO': 'ko'
    };
    document.documentElement.lang = langAttrMap[lang] || 'fr';

    // Special handling for RTL languages
    if (lang === 'AR') {
      document.body.dir = 'rtl';
    } else {
      document.body.dir = 'ltr';
    }

    // CRITICAL: Preserve language in all links
    preserveLanguageInLinks(lang);
  }

  // UNIVERSAL LINK FIXER - Preserve language across all navigation
  function preserveLanguageInLinks(lang) {
    document.querySelectorAll('a[href]').forEach(link => {
      const href = link.getAttribute('href');

      // Skip external links, mailto, anchors, javascript
      if (!href ||
          href.startsWith('http://') ||
          href.startsWith('https://') ||
          href.startsWith('mailto:') ||
          href.startsWith('#') ||
          href.startsWith('javascript:')) {
        return;
      }

      // Skip if already has lang parameter
      if (href.includes('?lang=') || href.includes('&lang=')) {
        return;
      }

      // Add language parameter
      const separator = href.includes('?') ? '&' : '?';
      link.setAttribute('href', href + separator + 'lang=' + lang);
    });
  }

  // Apply initial translations
  applyTranslations(currentLang);

  // Save language preference and reload translations when changed
  languageSelector.addEventListener('change', function() {
    const newLang = this.value;
    localStorage.setItem('selectedLanguage', newLang);
    applyTranslations(newLang);
  });
})();
</script>

</body>
</html>
